---
id: cf-1624D
source: CF
title: Palindromes Coloring
author: S≈çsuke
---

[Official Editorial](https://codeforces.com/blog/entry/98942)

## Explanation

We can greedily solve this problem by first forming palindromic pairs from identical characters.
We add one pair each of the `k` palindromes we want to build, as long as we have `k` pairs available.
Once we are done adding pairs, we can still add one more character to the middle of each palindrome if there are atleast `k` individual characters remaining.

## Implementation

**Time Complexity:** $\mathcal{O}(N)$

<LanguageSection>
<CPPSection>

```cpp
#include <bits/stdc++.h>

using std::cout;

int main() {
	int test_num;
	std::cin >> test_num;
	while (test_num--) {

		int n, k;
		std::string st;
		std::array<int, 26> cnt {0};
		std::cin >> n >> k >> st;

		for (char x : st) {
			cnt[x - 'a']++;
		}

		int pairs_cnt = 0, odd_cnt = 0;
		for (int i = 0; i < 26; i++) {
			pairs_cnt += cnt[i] / 2;
			odd_cnt += (cnt[i] % 2 == 1);
		}

		int res = 2 * (pairs_cnt / k);
		odd_cnt += 2 * (pairs_cnt % k);
		res += (odd_cnt >= k);
		
		cout << res << '\n';
	}	
}

```

</CPPSection>
<PySection>

```py
from collections import Counter

for _ in range(int(input())):
    n, k = map(int, input().split())
    st = input()

    cnt = Counter(st)

    pairs_cnt, odd_cnt = 0, 0

    for c in cnt.values():
        pairs_cnt += c // 2
        odd_cnt += c % 2

    res = 2 * (pairs_cnt // k)
    odd_cnt += 2 * (pairs_cnt % k)

    res += (odd_cnt >= k)

    print(res)
```

</PySection>
</LanguageSection>

